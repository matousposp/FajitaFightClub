[gd_scene load_steps=21 format=3 uid="uid://bg1dly1pjlx6u"]

[ext_resource type="FontFile" uid="uid://x67yloc584gj" path="res://extra/BigJohnPRO-Bold.otf" id="2_pjm35"]
[ext_resource type="FontFile" uid="uid://boxdnct10edu7" path="res://extra/LeagueSpartan-Bold.otf" id="3_6yil5"]
[ext_resource type="FontFile" uid="uid://2hiemraph8s5" path="res://extra/Fontspring-DEMO-proximanova-bold.otf" id="4_i2hi0"]
[ext_resource type="Texture2D" uid="uid://bjpowotu6rj76" path="res://assets/back btn.png" id="5_6wlat"]
[ext_resource type="Script" path="res://main scripts/TextureButton.gd" id="6_hwge1"]

[sub_resource type="GDScript" id="GDScript_mpyib"]
script/source = "extends Control

const port = 7777
var peer = ENetMultiplayerPeer.new()
var ipad : String

var player = preload(\"res://players/Tim2.tscn\")

func _ready() -> void:
	if OS.get_name() == \"Windows\":
		ipad = IP.get_local_addresses()[3]
	elif OS.get_name() == \"Android\":
		ipad = IP.get_local_addresses()[0]
	else:
		ipad = IP.get_local_addresses()[3]
		
	for ip in IP.get_local_addresses():
		if ip.begins_with(\"192.168\") or ip.begins_with(\"10.\"):
			ipad = ip
	%IP.text = ipad 
	

func _on_join_pressed() -> void:
	if $Join_IP.text == \"\":
		print(\"PUT AN IP ADDRESS\")
		return
	peer.create_client($Join_IP.text, port)
	multiplayer.multiplayer_peer = peer
	hide()
	
func add_player(id):
	var player_new = player.instantiate()
	player_new.name = str(id)
	#player_new.scale = Vector2(2, 2)
	get_parent().get_node(\"Player_Spawn\").add_child(player_new)
	
func remove_player(id):
	print(str(id) + \" has left!\")

func server_delete():
	pass

func _on_host_pressed():
	if OS.get_name() == \"Android\":
		peer.set_bind_ip(ipad)
	peer.create_server(port)
	add_player(multiplayer.get_unique_id())
	multiplayer.multiplayer_peer = peer
	multiplayer.peer_connected.connect(add_player)
	multiplayer.peer_disconnected.connect(remove_player)
#	multiplayer.server_disconnected.connect(server_delete)
	hide()

func _on_copy_pressed():
	DisplayServer.clipboard_set($IP.text)
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tnncb"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_hq71p"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_q24ya"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wvgfc"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bl1eo"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5o6qr"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_e16at"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4iryj"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_kot35"]
bg_color = Color(0.27451, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_s11gf"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0
shadow_color = Color(1, 0.568627, 0.65098, 0.6)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_f2072"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0tn82"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_dxrqr"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qfdly"]
bg_color = Color(0.278431, 0.682353, 1, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
expand_margin_top = 8.0
shadow_color = Color(0, 0, 0, 0.627451)

[node name="server2" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_mpyib")

[node name="ColorRect" type="ColorRect" parent="."]
layout_mode = 0
offset_right = 1156.0
offset_bottom = 651.0
color = Color(0.92549, 0.92549, 0.92549, 1)

[node name="Host_Title" type="Label" parent="."]
layout_mode = 0
offset_left = 141.0
offset_top = 135.0
offset_right = 399.0
offset_bottom = 262.0
theme_override_colors/font_color = Color(0.278431, 0.682353, 1, 1)
theme_override_fonts/font = ExtResource("2_pjm35")
theme_override_font_sizes/font_size = 100
text = "HOST
"

[node name="Host" type="Button" parent="."]
layout_mode = 0
offset_left = 159.0
offset_top = 297.0
offset_right = 375.0
offset_bottom = 362.0
theme_override_fonts/font = ExtResource("3_6yil5")
theme_override_font_sizes/font_size = 50
theme_override_styles/normal = SubResource("StyleBoxFlat_tnncb")
theme_override_styles/hover = SubResource("StyleBoxFlat_hq71p")
theme_override_styles/pressed = SubResource("StyleBoxFlat_q24ya")
text = "HOST
"

[node name="Join_Title" type="Label" parent="."]
layout_mode = 0
offset_left = 772.0
offset_top = 135.0
offset_right = 995.0
offset_bottom = 262.0
theme_override_colors/font_color = Color(0.278431, 0.682353, 1, 1)
theme_override_fonts/font = ExtResource("2_pjm35")
theme_override_font_sizes/font_size = 100
text = "JOIN
"

[node name="Join_IP" type="LineEdit" parent="."]
layout_mode = 0
offset_left = 416.0
offset_top = 287.0
offset_right = 745.0
offset_bottom = 364.0
theme_override_fonts/font = ExtResource("4_i2hi0")
theme_override_font_sizes/font_size = 50
theme_override_styles/normal = SubResource("StyleBoxFlat_wvgfc")
theme_override_styles/focus = SubResource("StyleBoxFlat_bl1eo")
theme_override_styles/read_only = SubResource("StyleBoxFlat_5o6qr")
placeholder_text = "ENTER IP"
alignment = 1

[node name="Join" type="Button" parent="."]
layout_mode = 0
offset_left = 789.0
offset_top = 288.0
offset_right = 987.0
offset_bottom = 365.0
theme_override_fonts/font = ExtResource("3_6yil5")
theme_override_font_sizes/font_size = 50
theme_override_styles/normal = SubResource("StyleBoxFlat_e16at")
theme_override_styles/hover = SubResource("StyleBoxFlat_4iryj")
theme_override_styles/pressed = SubResource("StyleBoxFlat_kot35")
text = "JOIN"

[node name="IP" type="Label" parent="."]
unique_name_in_owner = true
layout_mode = 0
offset_left = 306.0
offset_top = 179.0
offset_right = 862.0
offset_bottom = 269.0
theme_override_colors/font_color = Color(0.278431, 0.682353, 1, 1)
theme_override_fonts/font = ExtResource("4_i2hi0")
theme_override_font_sizes/font_size = 35
horizontal_alignment = 1

[node name="Copy" type="Button" parent="."]
layout_mode = 0
offset_left = 522.0
offset_top = 404.0
offset_right = 638.0
offset_bottom = 458.0
theme_override_fonts/font = ExtResource("3_6yil5")
theme_override_font_sizes/font_size = 30
theme_override_styles/normal = SubResource("StyleBoxFlat_s11gf")
theme_override_styles/hover = SubResource("StyleBoxFlat_f2072")
theme_override_styles/pressed = SubResource("StyleBoxFlat_0tn82")
theme_override_styles/disabled = SubResource("StyleBoxFlat_dxrqr")
theme_override_styles/focus = SubResource("StyleBoxFlat_qfdly")
text = "COPY"

[node name="TextureButton2" type="TextureButton" parent="."]
layout_mode = 0
offset_left = 966.0
offset_top = 512.0
offset_right = 1926.0
offset_bottom = 1350.0
scale = Vector2(0.150548, 0.126708)
texture_normal = ExtResource("5_6wlat")
texture_pressed = ExtResource("5_6wlat")
texture_hover = ExtResource("5_6wlat")
texture_disabled = ExtResource("5_6wlat")
texture_focused = ExtResource("5_6wlat")
stretch_mode = 0
script = ExtResource("6_hwge1")

[connection signal="pressed" from="Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="Join" to="." method="_on_join_pressed"]
[connection signal="pressed" from="Copy" to="." method="_on_copy_pressed"]
